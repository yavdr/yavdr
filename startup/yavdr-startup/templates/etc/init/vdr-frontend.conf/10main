# yavdr-frontend - Starts xine or vdr-sxfe
#

description     "yavdr-frontend"
author          "Gerald Dachs <gda@dachsweb.de>"

start on ((started vdr and openbox-started) or vdr-frontend-restart)
stop on (stopping vdr or stopping openbox)

<?cs if:(!?vdr.frontend || vdr.frontend != "headless") ?>respawn<?cs /if ?>

script
<?cs if:(!?vdr.frontend) ?> su -c "/usr/bin/start-xineliboutput" vdr <?cs /if ?> <?cs if:(vdr.frontend == "xineliboutput") ?> su -c "/usr/bin/start-xineliboutput" vdr <?cs /if ?><?cs if:(vdr.frontend == "xine") ?> su -c "/usr/bin/start-xine" vdr <?cs /if ?><?cs if:(vdr.frontend == "xbmc") ?> su -c "/usr/bin/start-xbmc-frontend" vdr <?cs /if ?><?cs if:(vdr.frontend == "headless") ?> echo "headless yaVDR Server" <?cs /if ?>
end script

