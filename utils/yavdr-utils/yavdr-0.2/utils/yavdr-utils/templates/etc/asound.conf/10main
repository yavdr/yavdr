<?cs if:(system.sound.type != "analog" || system.sound.type != "") ?>
<?cs if:(system.sound.type == "hdmi" || system.sound.type == "passthrough") ?>
pcm.!default {
	type hw
	card <?cs var:system.hardware.alsa.hdmi.card ?>
	device <?cs var:system.hardware.alsa.hdmi.device ?>
}
<?cs /if ?>
<?cs if:system.sound.type == "spdif" ?>
pcm.!default {
	type hw
	card <?cs var:system.hardware.alsa.digital.card ?>
	device <?cs var:system.hardware.alsa.digital.device ?>
}
<?cs /if ?>


<?cs if:system.sound.type == "hdmi+analog" ?>
#
# HDMi und analog output
#
pcm.!default {
type plug
slave {
pcm "both"
{
}

pcm.both {
type route
slave {
pcm multi
channels 4
}
ttable.0.0 1.0
ttable.1.1 1.0
ttable.0.2 1.0
ttable.1.3 1.0
}

pcm.multi {
type multi
slaves.a {
pcm "tv"
channels 2
}
slaves.b {
pcm "reciever"
channels 2
}
bindings.0.slave a
bindings.0.channel 0
bindings.1.slave a
bindings.1.channel 1
bindings.2.slave b
bindings.2.channel 0
bindings.3.slave b
bindings.3.channel 1
}

pcm.tv {
type hw
card <?cs var:system.hardware.alsa.hdmi.card ?>
device <?cs var:system.hardware.alsa.hdmi.device ?>
channels 2
}

pcm.receiver {
type hw
card 0
device 0
channels 2
}
<?cs /if ?>

<?cs /if ?>
