<?cs if:system.sleep.module == "kernel" ?>
case $1 in
     hibernate|suspend)
         echo "vdr is going to sleep"
	 stop openbox
	 start x
         ;;
     thaw|resume)
         echo "vdr gets started again"
         start vdr
	 stop x
	 start openbox
         for INTERFACE in `ifquery --list`; do restart network-interface INTERFACE=$INTERFACE ; done
         ;;
     *)  echo "Irgendwer ruft mich total falsch auf."
         ;;
esac
<?cs /if ?>
<?cs if:system.sleep.module == "uswsusp" ?>
case $1 in
     hibernate|suspend)
         echo "vdr is going to sleep"
         stop vdr-frontend
         start vdr-exit-1 EXEC=unload
         ;;
     thaw|resume)
         # reload dvb-driver at resume
         start logo-start
         for INTERFACE in `ifquery --list`; do restart network-interface INTERFACE=$INTERFACE ; done
         start vdr-exit-1 EXEC=load
         start vdr-frontend
         ;;
     *)  echo "Irgendwer ruft mich total falsch auf."
         ;;
esac
<?cs /if ?>
